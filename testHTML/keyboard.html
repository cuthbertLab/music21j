<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Piano Keyboard!</title>
    <link rel="stylesheet" href="../css/m21.css">
    <script src="../build/music21.debug.js"></script>
</head>
<body>
    <h1>A keyboard that can be clicked on.</h1>
    <div id="keyboardDiv"></div>
    <div id="instrumentControls">
        <label>
            <input type="radio" name="instrument" value="acoustic_grand_piano" checked>
            Piano
        </label>
        <label>
            <input type="radio" name="instrument" value="harpsichord">
            Harpsichord
        </label>
        <label>
            <input type="radio" name="instrument" value="acoustic_guitar_nylon">
            Guitar (Nylon)
        </label>
    </div>

    <script>
        const kd = document.getElementById('keyboardDiv');

        const k = new music21.keyboard.Keyboard();
        k.startPitch = 18;
        k.endPitch = 39;
        k.markC = true;

        k.appendKeyboard(kd); // 37-key keyboard
        // k.markNoteNames(true);

        // store globally for easy access
        window.k = k;

        // instrument switching
        const radios = document.querySelectorAll('input[name="instrument"]');
        radios.forEach(radio => {
            radio.addEventListener('change', () => {
                if (radio.checked) {
                    k.instrumentName = radio.value;
                }
            });
        });

    </script>
</body>
</html>
